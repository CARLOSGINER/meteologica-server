{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,c){},33:function(e,t,c){},44:function(e,t,c){\"use strict\";c.r(t);var n=c(5),r=c.n(n),i=c(21),o=c.n(i),s=(c(32),c(14)),a=(c(33),c(27)),l=c(25),j=c.n(l),d=c(26),u=c.n(d),b=c(0),p=u()(j.a),m=\"#111d2b\";var f=function(e){var t=e.getLastTemp,c=e.getLastPower,r=Object(n.useState)([]),i=Object(s.a)(r,2),o=i[0],l=i[1],j=Object(n.useState)([]),d=Object(s.a)(j,2),u=d[0],f=d[1],h=Object(n.useState)(!1),O=Object(s.a)(h,2),x=O[0],g=O[1];Object(n.useEffect)((function(){var e=Object(a.a)(\"http://127.0.0.1:4001\");e.on(\"FromAPI\",(function(e){l(e.updatedTemperatures),f(e.updatedPowers),g(!0)})),e.on(\"disconnect\",(function(){g(!1)}))}),[]);var v=function(e){return[e.map((function(e){return e.time})),e.map((function(e){return e.value}))]},w=function(e){return e.map((function(e){return e-273.15}))},y=function(e){return e.map((function(e){return 1e3*e}))},k=w(v(o)[1]),N=y(v(u)[1]),T=\"undefined\"===typeof k[k.length-1]?0:k[k.length-1],P=\"undefined\"===typeof N[N.length-1]?0:N[N.length-1];return t(T.toFixed(2)),c(P.toFixed(2)),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"div\",{className:x?\"loader active\":\"loader\",children:x?Object(b.jsx)(\"p\",{children:\"Connected! receiving data\"}):Object(b.jsx)(\"p\",{children:\"Disconnected...\"})}),Object(b.jsxs)(\"div\",{className:\"charts\",children:[Object(b.jsx)(p,{data:[{type:\"scatter\",mode:\"lines\",x:v(o)[0],y:w(v(o)[1])}],layout:{title:\"Temperature\",font:{color:\"rgb(179, 179, 179)\"},xaxis:{title:\"Time\",titlefont:{color:\"white\"},tickfont:{color:\"white\"},tickmode:\"linear\",dtick:12,tickformat:\"%M\"},yaxis:{title:\"Temp (C\\xb0)\",titlefont:{color:\"white\"},tickfont:{color:\"white\"}},paper_bgcolor:m,plot_bgcolor:m}}),Object(b.jsx)(p,{data:[{type:\"scatter\",mode:\"lines\",x:v(u)[0],y:y(v(u)[1])}],layout:{title:\"Power\",font:{color:\"rgb(179, 179, 179)\"},xaxis:{title:\"Time\",titlefont:{color:\"white\"},tickfont:{color:\"white\"},tickmode:\"linear\",dtick:12,tickformat:\"%M\"},yaxis:{title:\"Power (KW)\",titlefont:{color:\"white\"},tickfont:{color:\"white\"}},paper_bgcolor:m,plot_bgcolor:m}})]})]})};function h(e){var t=e.lastTemp,c=e.lastPower;return Object(b.jsxs)(\"div\",{className:\"widget\",children:[Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"p\",{className:\"subtitle\",children:\"Last Temperature\"}),Object(b.jsxs)(\"p\",{className:\"number\",children:[t,\" \\xb0C\"]})]}),Object(b.jsx)(\"div\",{className:\"divider\",children:\"|\"}),Object(b.jsxs)(\"div\",{children:[Object(b.jsx)(\"p\",{className:\"subtitle\",children:\"Last Power\"}),Object(b.jsxs)(\"p\",{className:\"number\",children:[c,\" KW\"]})]})]})}function O(e){var t=e.lastTemp,c=e.lastPower;return Object(b.jsxs)(\"nav\",{className:\"header\",children:[Object(b.jsx)(\"img\",{className:\"logo_img\",src:\"/assets/meteologica_logo.jpg\",alt:\"logo\"}),Object(b.jsx)(h,{lastTemp:t,lastPower:c})]})}function x(){return Object(b.jsx)(\"footer\",{children:Object(b.jsx)(\"p\",{className:\"copyright\",children:\"Develope by Carlos Giner \\xa9 copyright 2021\"})})}var g=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],r=t[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),a=o[0],l=o[1];return Object(b.jsxs)(\"div\",{className:\"App\",children:[Object(b.jsx)(O,{lastTemp:c,lastPower:a}),Object(b.jsx)(f,{getLastTemp:function(e){r(e)},getLastPower:function(e){l(e)}}),Object(b.jsx)(x,{})]})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById(\"root\"))}},[[44,1,2]]]);","name":"static/js/main.beb42196.chunk.js","map":{"version":3,"sources":["static/js/main.beb42196.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","esm","plotly_basic","plotly_basic_default","factory","factory_default","jsx_runtime","Plot","a","globalColor","Chart","_ref","getLastTemp","getLastPower","_useState","Object","_useState2","temperatures","setTemperatures","_useState3","_useState4","power","setPower","_useState5","_useState6","onLight","setOnLight","socket","on","resp","updatedTemperatures","updatedPowers","makeAxis","rawData","map","each","time","value","tempsInCelsius","kelvinTemperatures","toKW","MWpowers","plotReadyTemps","plotReadyPowers","lastTemperature","length","lastPower","toFixed","children","className","data","type","mode","x","y","layout","title","font","color","xaxis","titlefont","tickfont","tickmode","dtick","tickformat","yaxis","paper_bgcolor","plot_bgcolor","Widget","lastTemp","Header","src","alt","Footer","src_App","setLastTemp","setLastPower","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAAyB,mBAAIA,KAAyB,oBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpE,GACA,SAAUC,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQC,EAASC,KAM3B,GACA,SAAUF,EAAQG,EAAqBD,GAE7C,aAEAA,EAAoBE,EAAED,GAGtB,IAAIE,EAAQH,EAAoB,GAC5BI,EAA6BJ,EAAoBK,EAAEF,GAGnDG,EAAYN,EAAoB,IAChCO,EAAiCP,EAAoBK,EAAEC,GAMvDE,GAHMR,EAAoB,IAGVA,EAAoB,KAMpCS,GAHMT,EAAoB,IAGpBA,EAAoB,KAG1BU,EAAeV,EAAoB,IACnCW,EAAoCX,EAAoBK,EAAEK,GAG1DE,EAAUZ,EAAoB,IAC9Ba,EAA+Bb,EAAoBK,EAAEO,GAGrDE,EAAcd,EAAoB,GAGlCe,EAAKF,GAAAA,CAAkBF,EAAqBK,GAC5CC,EAAY,UAAilG,IAAIC,EAA3kG,SAAmBC,GAAM,IAAIC,EAAYD,EAAKC,YAAYC,EAAaF,EAAKE,aAAiBC,EAAUC,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIC,EAAWD,OAAOf,EAA+B,EAAtCe,CAAyCD,EAAU,GAAGG,EAAaD,EAAW,GAAGE,EAAgBF,EAAW,GAAOG,EAAWJ,OAAOpB,EAAgB,SAAvBoB,CAA0B,IAAIK,EAAWL,OAAOf,EAA+B,EAAtCe,CAAyCI,EAAW,GAAGE,EAAMD,EAAW,GAAGE,EAASF,EAAW,GAAOG,EAAWR,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOS,EAAWT,OAAOf,EAA+B,EAAtCe,CAAyCQ,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAGT,OAAOpB,EAAiB,UAAxBoB,EAA2B,WAAW,IAAIY,EAAOZ,OAAOd,EAAqB,EAA5Bc,CADrkB,yBAC8mBY,EAAOC,GAAG,WAAU,SAASC,GAAMX,EAAgBW,EAAKC,qBAAqBR,EAASO,EAAKE,eAAeL,GAAW,MAASC,EAAOC,GAAG,cAAa,WAAWF,GAAW,QAAY,IAAI,IAAIM,EAAS,SAAkBC,GAAuJ,MAAd,CAAtHA,EAAQC,KAAI,SAASC,GAAM,OAAOA,EAAKC,QAAkBH,EAAQC,KAAI,SAASC,GAAM,OAAOA,EAAKE,WAA0DC,EAAe,SAAwBC,GAA8H,OAAhFA,EAAmBL,KAAI,SAASC,GAA8B,OAAZA,EAAK,WAA4DK,EAAK,SAAcC,GAAuE,OAAhDA,EAASP,KAAI,SAASC,GAAM,OAAY,IAALA,MAAmCO,EAAeJ,EAAeN,EAASf,GAAc,IAAQ0B,EAAgBH,EAAKR,EAASX,GAAO,IAAQuB,EAAiE,qBAA1CF,EAAeA,EAAeG,OAAO,GAAiB,EAAEH,EAAeA,EAAeG,OAAO,GAAOC,EAA6D,qBAA5CH,EAAgBA,EAAgBE,OAAO,GAAiB,EAAEF,EAAgBA,EAAgBE,OAAO,GAA8E,OAA3EjC,EAAYgC,EAAgBG,QAAQ,IAAIlC,EAAaiC,EAAUC,QAAQ,IAAuBhC,OAAOT,EAAkB,KAAzBS,CAA4BT,EAAsB,SAAE,CAAC0C,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2B,MAAM,CAACkC,UAAUxB,EAAQ,gBAAgB,SAASuB,SAASvB,EAAqBV,OAAOT,EAAiB,IAAxBS,CAA2B,IAAI,CAACiC,SAAS,8BAA2CjC,OAAOT,EAAiB,IAAxBS,CAA2B,IAAI,CAACiC,SAAS,sBAAmCjC,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACkC,UAAU,SAASD,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2BR,EAAK,CAAC2C,KAAK,CAAC,CAACC,KAAK,UAAUC,KAAK,QAAQC,EAAErB,EAASf,GAAc,GAAGqC,EAAEhB,EAAeN,EAASf,GAAc,MAAMsC,OAAO,CAACC,MAAM,cAAcC,KAAK,CAACC,MAAM,sBAAsBC,MAAM,CAACH,MAAM,OAAOI,UAAU,CAACF,MAAM,SAASG,SAAS,CAACH,MAAM,SAASI,SAAS,SAASC,MAAM,GAAGC,WAAW,MAAMC,MAAM,CAACT,MAAM,eAAYI,UAAU,CAACF,MAAM,SAASG,SAAS,CAACH,MAAM,UAAUQ,cAAczD,EAAY0D,aAAa1D,KAA4BM,OAAOT,EAAiB,IAAxBS,CAA2BR,EAAK,CAAC2C,KAAK,CAAC,CAACC,KAAK,UAAUC,KAAK,QAAQC,EAAErB,EAASX,GAAO,GAAGiC,EAAEd,EAAKR,EAASX,GAAO,MAAMkC,OAAO,CAACC,MAAM,QAAQC,KAAK,CAACC,MAAM,sBAAsBC,MAAM,CAACH,MAAM,OAAOI,UAAU,CAACF,MAAM,SAASG,SAAS,CAACH,MAAM,SAASI,SAAS,SAASC,MAAM,GAAGC,WAAW,MAAMC,MAAM,CAACT,MAAM,aAAaI,UAAU,CAACF,MAAM,SAASG,SAAS,CAACH,MAAM,UAAUQ,cAAczD,EAAY0D,aAAa1D,YAE9iG,SAAS2D,EAAOzD,GAAM,IAAI0D,EAAS1D,EAAK0D,SAASvB,EAAUnC,EAAKmC,UAAU,OAAmB/B,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACkC,UAAU,SAASD,SAAS,CAAcjC,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACiC,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2B,IAAI,CAACkC,UAAU,WAAWD,SAAS,qBAAkCjC,OAAOT,EAAkB,KAAzBS,CAA4B,IAAI,CAACkC,UAAU,SAASD,SAAS,CAACqB,EAAS,eAA4BtD,OAAOT,EAAiB,IAAxBS,CAA2B,MAAM,CAACkC,UAAU,UAAUD,SAAS,MAAmBjC,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACiC,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2B,IAAI,CAACkC,UAAU,WAAWD,SAAS,eAA4BjC,OAAOT,EAAkB,KAAzBS,CAA4B,IAAI,CAACkC,UAAU,SAASD,SAAS,CAACF,EAAU,eAErtB,SAASwB,EAAO3D,GAAM,IAAI0D,EAAS1D,EAAK0D,SAASvB,EAAUnC,EAAKmC,UAAU,OAAmB/B,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACkC,UAAU,SAASD,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2B,MAAM,CAACkC,UAAU,WAAWsB,IAAI,+BAA+BC,IAAI,SAAsBzD,OAAOT,EAAiB,IAAxBS,CAA2BqD,EAAO,CAACC,SAASA,EAASvB,UAAUA,OAE7V,SAAS2B,IAAS,OAAmB1D,OAAOT,EAAiB,IAAxBS,CAA2B,SAAS,CAACiC,SAAsBjC,OAAOT,EAAiB,IAAxBS,CAA2B,IAAI,CAACkC,UAAU,YAAYD,SAAS,mDAE0rB,IAAI0B,EAA71B,WAAmB,IAAI5D,EAAUC,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOC,EAAWD,OAAOf,EAA+B,EAAtCe,CAAyCD,EAAU,GAAGuD,EAASrD,EAAW,GAAG2D,EAAY3D,EAAW,GAAOG,EAAWJ,OAAOpB,EAAgB,SAAvBoB,EAA0B,GAAOK,EAAWL,OAAOf,EAA+B,EAAtCe,CAAyCI,EAAW,GAAG2B,EAAU1B,EAAW,GAAGwD,EAAaxD,EAAW,GAAoK,OAAmBL,OAAOT,EAAkB,KAAzBS,CAA4B,MAAM,CAACkC,UAAU,MAAMD,SAAS,CAAcjC,OAAOT,EAAiB,IAAxBS,CAA2BuD,EAAO,CAACD,SAASA,EAASvB,UAAUA,IAAyB/B,OAAOT,EAAiB,IAAxBS,CAA2BL,EAAM,CAACE,YAAxW,SAAqBgC,GAAiB+B,EAAY/B,IAA8U/B,aAA1S,SAAsBiC,GAAW8B,EAAa9B,MAAqS/B,OAAOT,EAAiB,IAAxBS,CAA2B0D,EAAO,QAEpzB1E,EAAkBS,EAAEqE,OAAoB9D,OAAOT,EAAiB,IAAxBS,CAA2BnB,EAAcY,EAAEsE,WAAW,CAAC9B,SAAsBjC,OAAOT,EAAiB,IAAxBS,CAA2B2D,EAAQ,MAAMK,SAASC,eAAe,WAIpL,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(5);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(21);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(32);\n\n// EXTERNAL MODULE: C:/Users/CARLOS/Documents/React_apps/meteologica_app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(33);\n\n// EXTERNAL MODULE: C:/Users/carlos/node_modules/socket.io-client/build/esm/index.js + 14 modules\nvar esm = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/plotly.js-basic-dist/plotly-basic.js\nvar plotly_basic = __webpack_require__(25);\nvar plotly_basic_default = /*#__PURE__*/__webpack_require__.n(plotly_basic);\n\n// EXTERNAL MODULE: ./node_modules/react-plotly.js/factory.js\nvar factory = __webpack_require__(26);\nvar factory_default = /*#__PURE__*/__webpack_require__.n(factory);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Chart.js\nvar Plot=factory_default()(plotly_basic_default.a);var ENDPOINT=\"http://127.0.0.1:4001\";// const plotGlobalLayout = {}\nvar globalColor='#111d2b';function Chart_App(_ref){var getLastTemp=_ref.getLastTemp,getLastPower=_ref.getLastPower;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),temperatures=_useState2[0],setTemperatures=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),power=_useState4[0],setPower=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),onLight=_useState6[0],setOnLight=_useState6[1];Object(react[\"useEffect\"])(function(){var socket=Object(esm[\"a\" /* default */])(ENDPOINT);socket.on(\"FromAPI\",function(resp){setTemperatures(resp.updatedTemperatures);setPower(resp.updatedPowers);setOnLight(true);});socket.on(\"disconnect\",function(){setOnLight(false);});},[]);var makeAxis=function makeAxis(rawData){var xAxis=rawData.map(function(each){return each.time;});var yAxis=rawData.map(function(each){return each.value;});var plotData=[xAxis,yAxis];return plotData;};var tempsInCelsius=function tempsInCelsius(kelvinTemperatures){var convertedTemperatures=kelvinTemperatures.map(function(each){var celsius=each-273.15;return celsius;});return convertedTemperatures;};var toKW=function toKW(MWpowers){var KWpowers=MWpowers.map(function(each){return each*1000;});return KWpowers;};var plotReadyTemps=tempsInCelsius(makeAxis(temperatures)[1]);var plotReadyPowers=toKW(makeAxis(power)[1]);var lastTemperature=typeof plotReadyTemps[plotReadyTemps.length-1]===\"undefined\"?0:plotReadyTemps[plotReadyTemps.length-1];var lastPower=typeof plotReadyPowers[plotReadyPowers.length-1]===\"undefined\"?0:plotReadyPowers[plotReadyPowers.length-1];getLastTemp(lastTemperature.toFixed(2));getLastPower(lastPower.toFixed(2));return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:onLight?\"loader active\":\"loader\",children:onLight?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Connected! receiving data\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Disconnected...\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"charts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Plot,{data:[{type:'scatter',mode:'lines',x:makeAxis(temperatures)[0],y:tempsInCelsius(makeAxis(temperatures)[1])}],layout:{title:'Temperature',font:{color:'rgb(179, 179, 179)'},xaxis:{title:'Time',titlefont:{color:'white'},tickfont:{color:'white'},tickmode:'linear',dtick:12,tickformat:'%M'},yaxis:{title:'Temp (C°)',titlefont:{color:'white'},tickfont:{color:'white'}},paper_bgcolor:globalColor,plot_bgcolor:globalColor}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Plot,{data:[{type:'scatter',mode:'lines',x:makeAxis(power)[0],y:toKW(makeAxis(power)[1])}],layout:{title:'Power',font:{color:'rgb(179, 179, 179)'},xaxis:{title:'Time',titlefont:{color:'white'},tickfont:{color:'white'},tickmode:'linear',dtick:12,tickformat:'%M'},yaxis:{title:'Power (KW)',titlefont:{color:'white'},tickfont:{color:'white'}},paper_bgcolor:globalColor,plot_bgcolor:globalColor}})]})]});}/* harmony default export */ var Chart = (Chart_App);\n// CONCATENATED MODULE: ./src/components/Widget.js\nfunction Widget(_ref){var lastTemp=_ref.lastTemp,lastPower=_ref.lastPower;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"widget\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"subtitle\",children:\"Last Temperature\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"number\",children:[lastTemp,\" \\xB0C\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"divider\",children:\"|\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"subtitle\",children:\"Last Power\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"number\",children:[lastPower,\" KW\"]})]})]});}\n// CONCATENATED MODULE: ./src/components/Header.js\nfunction Header(_ref){var lastTemp=_ref.lastTemp,lastPower=_ref.lastPower;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{className:\"header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"logo_img\",src:\"/assets/meteologica_logo.jpg\",alt:\"logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Widget,{lastTemp:lastTemp,lastPower:lastPower})]});}\n// CONCATENATED MODULE: ./src/components/Footer.js\nfunction Footer(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"footer\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"copyright\",children:\"Develope by Carlos Giner \\xA9 copyright 2021\"})});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),lastTemp=_useState2[0],setLastTemp=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),lastPower=_useState4[0],setLastPower=_useState4[1];var getLastTemp=function getLastTemp(lastTemperature){setLastTemp(lastTemperature);};var getLastPower=function getLastPower(lastPower){setLastPower(lastPower);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header,{lastTemp:lastTemp,lastPower:lastPower}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chart,{getLastTemp:getLastTemp,getLastPower:getLastPower}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Footer,{})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[44,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\carlos\\documents\\react_apps\\meteologica_app\\client\\src\\index.css","C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\CARLOS\\Documents\\React_apps\\meteologica_app\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\carlos\\documents\\react_apps\\meteologica_app\\client\\src\\App.css","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/components/Chart.js","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/components/Widget.js","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/components/Header.js","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/components/Footer.js","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/App.js","C:/Users/carlos/documents/react_apps/meteologica_app/client/src/index.js"],"names":["Plot","createPlotlyComponent","Plotly","ENDPOINT","globalColor","App","getLastTemp","getLastPower","useState","temperatures","setTemperatures","power","setPower","onLight","setOnLight","useEffect","socket","socketIOClient","on","resp","updatedTemperatures","updatedPowers","makeAxis","rawData","xAxis","map","each","time","yAxis","value","plotData","tempsInCelsius","kelvinTemperatures","convertedTemperatures","celsius","toKW","MWpowers","KWpowers","plotReadyTemps","plotReadyPowers","lastTemperature","length","lastPower","toFixed","type","mode","x","y","title","font","color","xaxis","titlefont","tickfont","tickmode","dtick","tickformat","yaxis","paper_bgcolor","plot_bgcolor","Widget","lastTemp","Header","Footer","setLastTemp","setLastPower","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\";\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Plotly from 'plotly.js-basic-dist';\r\nimport createPlotlyComponent from 'react-plotly.js/factory';\r\n\r\nconst Plot = createPlotlyComponent(Plotly);\r\nconst ENDPOINT = \"http://127.0.0.1:4001\";\r\n// const plotGlobalLayout = {}\r\nconst globalColor = '#111d2b'\r\n\r\n\r\nfunction App({getLastTemp,getLastPower}) {\r\n\r\n    const [temperatures, setTemperatures] = useState([]);\r\n    const [power, setPower] = useState([]);\r\n    const [onLight, setOnLight] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        const socket = socketIOClient(ENDPOINT);\r\n        socket.on(\"FromAPI\", resp => {\r\n            setTemperatures(resp.updatedTemperatures);\r\n            setPower(resp.updatedPowers);\r\n            setOnLight(true);\r\n        });\r\n        socket.on(\"disconnect\", () => {\r\n            setOnLight(false);\r\n          });\r\n    }, []);\r\n\r\n\r\n    const makeAxis = (rawData) =>{\r\n        const xAxis = rawData.map((each)=>(\r\n            each.time\r\n        ))\r\n        const yAxis = rawData.map((each)=>(\r\n            each.value\r\n        ))\r\n\r\n        const plotData = [xAxis,yAxis]\r\n\r\n        return plotData;\r\n    }\r\n\r\n    const tempsInCelsius =(kelvinTemperatures) =>{\r\n        const convertedTemperatures = kelvinTemperatures.map(each=>{\r\n            const celsius = each - 273.15\r\n            return (celsius)\r\n        })\r\n        return convertedTemperatures\r\n    }\r\n\r\n    const toKW = (MWpowers) =>{\r\n        const KWpowers= MWpowers.map(each=>{\r\n            return each*1000\r\n        })\r\n        return KWpowers\r\n    }\r\n\r\n    let plotReadyTemps = tempsInCelsius(makeAxis(temperatures)[1])\r\n    let plotReadyPowers = toKW(makeAxis(power)[1])\r\n    let lastTemperature = typeof plotReadyTemps[plotReadyTemps.length-1] === \"undefined\"? 0 : plotReadyTemps[plotReadyTemps.length-1]  ; \r\n    let lastPower = typeof plotReadyPowers[plotReadyPowers.length-1] === \"undefined\"? 0 : plotReadyPowers[plotReadyPowers.length-1]; \r\n    getLastTemp(lastTemperature.toFixed(2))\r\n    getLastPower(lastPower.toFixed(2))\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n\r\n        <div className={onLight?\"loader active\":\"loader\"}>\r\n            {onLight?<p>Connected! receiving data</p>:<p>Disconnected...</p>}\r\n        </div>\r\n\r\n        <div className=\"charts\">\r\n\r\n            <Plot\r\n                data={[\r\n                    {\r\n                        type:'scatter',\r\n                        mode:'lines',\r\n                        x:makeAxis(temperatures)[0],\r\n                        y:tempsInCelsius(makeAxis(temperatures)[1])\r\n                    }\r\n                ]}\r\n\r\n                layout={{\r\n                    title:'Temperature',\r\n                    font:{\r\n                        color:'rgb(179, 179, 179)'\r\n                    },\r\n                    xaxis:{\r\n                        title:'Time',\r\n                        titlefont:{color:'white'},\r\n                        tickfont:{color:'white'},\r\n                        tickmode:'linear',\r\n                        dtick:12,\r\n                        tickformat:'%M'\r\n                    },\r\n                    yaxis:{\r\n                        title:'Temp (C°)',\r\n                        titlefont:{color:'white'},\r\n                        tickfont:{color:'white'}\r\n                    },\r\n                    paper_bgcolor:globalColor,\r\n                    plot_bgcolor:globalColor,\r\n                }}\r\n            />\r\n            <Plot\r\n                data={[\r\n                    {\r\n                        type:'scatter',\r\n                        mode:'lines',\r\n                        x:makeAxis(power)[0],\r\n                        y:toKW(makeAxis(power)[1]),\r\n                    }\r\n                ]}\r\n                layout={{\r\n                    title:'Power',\r\n                    font:{\r\n                        color:'rgb(179, 179, 179)'\r\n                    },\r\n                    xaxis:{\r\n                        title:'Time',\r\n                        titlefont:{color:'white'},\r\n                        tickfont:{color:'white'},\r\n                        tickmode:'linear',\r\n                        dtick:12,\r\n                        tickformat:'%M'\r\n                    },\r\n                    yaxis:{\r\n                        title:'Power (KW)',\r\n                        titlefont:{color:'white'},\r\n                        tickfont:{color:'white'}\r\n                    },\r\n                    paper_bgcolor:globalColor,\r\n                    plot_bgcolor:globalColor,\r\n\r\n                }}\r\n            />\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\n\r\nexport default function Widget({lastTemp,lastPower}) {\r\n    return (\r\n      <div className=\"widget\">\r\n          <div >\r\n              <p className=\"subtitle\">Last Temperature</p>\r\n              <p className=\"number\">{lastTemp} °C</p>\r\n          </div>\r\n          <div className=\"divider\">\r\n              |\r\n          </div>\r\n          <div>\r\n              <p className=\"subtitle\">Last Power</p>\r\n              <p className=\"number\" >{lastPower} KW</p>\r\n          </div>\r\n      </div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport Widget from './Widget';\r\n\r\nexport default function Header({lastTemp,lastPower}) {\r\n    return (\r\n        <nav className=\"header\">\r\n            <img className=\"logo_img\" src={\"/assets/meteologica_logo.jpg\"} alt=\"logo\" />\r\n            <Widget lastTemp={lastTemp} lastPower={lastPower}/>\r\n        </nav>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer>\r\n            <p className=\"copyright\">Develope by Carlos Giner © copyright 2021</p>\r\n        </footer>\r\n    )\r\n}\r\n","import './App.css';\nimport React,{useState} from'react';\nimport Chart from './components/Chart';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nfunction App() {\n\n  const [lastTemp, setLastTemp] = useState(false);\n  const [lastPower, setLastPower] = useState(false);\n\n  const getLastTemp =(lastTemperature)=>{\n    setLastTemp(lastTemperature)\n  }\n\n  const getLastPower = (lastPower) => {\n    setLastPower(lastPower);\n  }\n\n  return (\n    <div className=\"App\">\n      <Header lastTemp={lastTemp} lastPower={lastPower}/> \n      <Chart getLastTemp={getLastTemp} getLastPower={getLastPower} />\n      <Footer/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}